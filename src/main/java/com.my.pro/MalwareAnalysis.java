package com.my.pro;

import java.util.Arrays;

public class MalwareAnalysis {

    public static int[] simulate(int[] entries) {
        int windowSize = 3, TiOffset = -1, TrOffset = 2;

        boolean[] shouldSetToZero = new boolean[entries.length];

        for (int i = 0; i < entries.length; i++) {
            int TiIndex = i + TiOffset;
            int TrIndex = i + TrOffset;

            boolean isTiInBounds = TiIndex >= 0 && TiIndex < entries.length;
            boolean isTrInBounds = TrIndex >= 0 && TrIndex < entries.length;

            if ((isTiInBounds && entries[TiIndex] >= entries[i]) || (isTrInBounds && entries[TrIndex] >= entries[i])) {
                shouldSetToZero[i] = true;
            }
        }

        for (int i = 0; i < entries.length; i++) {
            if (shouldSetToZero[i]) {
                entries[i] = 0;
            }
        }

        return entries;
    }

    public static void main(String[] args) {
        int[] records = new int[]{1, 2, 0, 5, 0, 2, 4, 3, 3, 3};
        System.out.println(Arrays.toString(simulate(records)));
        // Expected output:
        // 1, 0, 0, 5, 0, 0, 0, 3, 3, 0
    }
}
